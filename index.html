<!DOCTYPE html>
<html>

<body>
    <div width="100%" height="100%">
        <canvas id="canvas" width="600" height="600" style="border:1px solid #d3d3d3;" onmousemove="drawn()"
            onmousedown="mclick()" onclick="cfinal()">
            Your browser does not support the HTML canvas tag.</canvas>
    </div>



    <script>
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        ctx.fillStyle = 'black'
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        let cstatus = 0
        const SIZE=600

        const tabuleiro=[]

        for (let index = 0; index < SIZE; index++) {
            const line = []
            for (let coluna = 0; coluna < SIZE; coluna++) {
                const element = {
                    status:!!0,
                    x:index,
                    y:coluna
                };
                line.push(element)
                
            }
            tabuleiro.push(line)
            
        }
        console.log(tabuleiro[0][0])

        function cfinal(){
            cstatus=0
        }


        function mclick() {
            cstatus = 1
        }


        

        function drawn() {
            if (cstatus == 1) {
                const rect = canvas.getBoundingClientRect();
                const x = (event.clientX - rect.left) * canvas.width / rect.width;
                const y = (event.clientY - rect.top) * canvas.height / rect.height;
                a=parseInt(x)
                b=parseInt(y)
                console.log("X: "+a)
                console.log("Y: "+b)

                tabuleiro[a][b].status=true
                console.log(tabuleiro[a][b])

                ctx.fillStyle = 'green';
                ctx.fillRect(a, b, 1, 1)
            }


        }
    </script>

</body>

</html>